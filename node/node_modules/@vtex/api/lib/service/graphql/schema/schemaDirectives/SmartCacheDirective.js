"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const graphql_1 = require("graphql");
const graphql_tools_1 = require("graphql-tools");
class SmartCacheDirective extends graphql_tools_1.SchemaDirectiveVisitor {
    visitFieldDefinition(field) {
        const { resolve = graphql_1.defaultFieldResolver } = field;
        field.resolve = (root, args, context, info) => {
            context.vtex.recorder = context.state.recorder;
            return resolve(root, args, context, info);
        };
    }
}
exports.SmartCacheDirective = SmartCacheDirective;
